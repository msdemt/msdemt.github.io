<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Kubernetes-Dashboard-V1.10.1-官方文档阅读笔记 - MyBlog</title><meta name="Description" content="我的博客"><meta property="og:title" content="Kubernetes-Dashboard-V1.10.1-官方文档阅读笔记" />
<meta property="og:description" content="参考： https://github.com/kubernetes/dashboard Kubernetes Dashboard is a general purpose, web-based UI for Kubernetes clusters. It allows users to manage applications running in the cluster and troubleshoot them, as well as manage the cluster itself. Total View Getting Started IMPORTANT: Read the Access Control guide before performing any further steps. The default Dashboard deployment contains a minimal set of RBAC privileges needed to run. To deploy Dashboard, execute following command:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://msdemt.github.io/kubernetes-dashboard-v1.10.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" />
<meta property="og:image" content="https://msdemt.github.io/logo.png"/>
<meta property="article:published_time" content="2019-10-22T10:41:18+08:00" />
<meta property="article:modified_time" content="2019-10-22T10:41:18+08:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://msdemt.github.io/logo.png"/>

<meta name="twitter:title" content="Kubernetes-Dashboard-V1.10.1-官方文档阅读笔记"/>
<meta name="twitter:description" content="参考： https://github.com/kubernetes/dashboard Kubernetes Dashboard is a general purpose, web-based UI for Kubernetes clusters. It allows users to manage applications running in the cluster and troubleshoot them, as well as manage the cluster itself. Total View Getting Started IMPORTANT: Read the Access Control guide before performing any further steps. The default Dashboard deployment contains a minimal set of RBAC privileges needed to run. To deploy Dashboard, execute following command:"/>
<meta name="application-name" content="MyBlog">
<meta name="apple-mobile-web-app-title" content="MyBlog"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://msdemt.github.io/kubernetes-dashboard-v1.10.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" /><link rel="prev" href="https://msdemt.github.io/rook-ceph-v1.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" /><link rel="next" href="https://msdemt.github.io/vscode%E7%9A%84%E4%BD%BF%E7%94%A8/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Kubernetes-Dashboard-V1.10.1-官方文档阅读笔记",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/msdemt.github.io\/kubernetes-dashboard-v1.10.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0\/"
        },"image": ["https:\/\/msdemt.github.io\/images\/Apple-Devices-Preview.png"],"genre": "posts","wordcount":  4042 ,
        "url": "https:\/\/msdemt.github.io\/kubernetes-dashboard-v1.10.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0\/","datePublished": "2019-10-22T10:41:18+08:00","dateModified": "2019-10-22T10:41:18+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "https:\/\/msdemt.github.io\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "hekai"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="MyBlog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>MyBlog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/categories/documentation/"> 文档 </a><a class="menu-item" href="/about/"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="MyBlog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>MyBlog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/categories/documentation/" title="">文档</a><a class="menu-item" href="/about/" title="">关于</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Kubernetes-Dashboard-V1.10.1-官方文档阅读笔记</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>hekai</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2019-10-22">2019-10-22</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 4042 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 9 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#total-view">Total View</a>
      <ul>
        <li><a href="#getting-started">Getting Started</a></li>
        <li><a href="#create-an-authentication-token-rbac">Create An Authentication Token (RBAC)</a></li>
        <li><a href="#documentation">Documentation</a></li>
      </ul>
    </li>
    <li><a href="#kubernetes-dashboard-documentation">Kubernetes Dashboard Documentation</a>
      <ul>
        <li><a href="#commonhttpsgithubcomkubernetesdashboardblobmasterdocscommonreadmemd"><a href="https://github.com/kubernetes/dashboard/blob/master/docs/common/README.md">Common</a></a></li>
        <li><a href="#user-guidehttpsgithubcomkubernetesdashboardblobmasterdocsuserreadmemd"><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/README.md">User Guide</a></a></li>
        <li><a href="#developer-guidehttpsgithubcomkubernetesdashboardblobmasterdocsdeveloperreadmemd"><a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/README.md">Developer Guide</a></a>
          <ul>
            <li><a href="#common">Common</a>
              <ul>
                <li><a href="#dashboard-arguments">Dashboard arguments</a>
                  <ul>
                    <li><a href="#arguments">Arguments</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#user-guide">User Guide</a>
              <ul>
                <li><a href="#installation">Installation</a>
                  <ul>
                    <li><a href="#official-release">Official release</a></li>
                    <li><a href="#development-release">Development release</a></li>
                  </ul>
                </li>
                <li><a href="#certificate-management">Certificate management</a>
                  <ul>
                    <li><a href="#public-trusted-certificate-authority">Public trusted Certificate Authority</a></li>
                    <li><a href="#self-signed-certificate">Self-signed certificate</a></li>
                  </ul>
                </li>
                <li><a href="#accessing-dashboard">Accessing Dashboard</a>
                  <ul>
                    <li><a href="#accessing-dashboard-17x-and-above">Accessing Dashboard 1.7.x and above</a></li>
                    <li><a href="#accessing-dashboard-16x-and-below">Accessing Dashboard 1.6.x and below</a></li>
                  </ul>
                </li>
                <li><a href="#access-control">Access control</a>
                  <ul>
                    <li><a href="#introduction">Introduction</a></li>
                    <li><a href="#default-dashboard-privileges">Default Dashboard privileges</a></li>
                    <li><a href="#admin-privileges">Admin privileges</a></li>
                  </ul>
                </li>
                <li><a href="#creating-sample-user">Creating sample user</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#create-service-account">Create Service Account</a></li>
    <li><a href="#create-clusterrolebinding">Create ClusterRoleBinding</a></li>
    <li><a href="#bearer-token">Bearer Token</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><blockquote>
<p>参考：<br>
<a href="https://github.com/kubernetes/dashboard">https://github.com/kubernetes/dashboard</a></p>
</blockquote>
<p>Kubernetes Dashboard is a general purpose, web-based UI for Kubernetes clusters. It allows users to manage applications running in the cluster and troubleshoot them, as well as manage the cluster itself.</p>
<h2 id="total-view">Total View</h2>
<h3 id="getting-started">Getting Started</h3>
<p><strong>IMPORTANT:</strong> Read the <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md" target="_blank" rel="noopener noreffer">Access Control</a> guide before performing any further steps. The default Dashboard deployment contains a minimal set of RBAC privileges needed to run.</p>
<p>To deploy Dashboard, execute following command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">$ kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v1.10.1/src/deploy/recommended/kubernetes-dashboard.yaml
</code></pre></td></tr></table>
</div>
</div><p>To access Dashboard from your local workstation you must create a secure channel to your Kubernetes cluster. Run the following command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">$ kubectl proxy
</code></pre></td></tr></table>
</div>
</div><p>Now access Dashboard at:</p>
<p><a href="http://localhost:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/" target="_blank" rel="noopener noreffer"><code>http://localhost:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/</code></a>.</p>
<h3 id="create-an-authentication-token-rbac">Create An Authentication Token (RBAC)</h3>
<p>To find out how to create sample user and log in follow <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/creating-sample-user.md" target="_blank" rel="noopener noreffer">Creating sample user</a> guide.</p>
<p><strong>NOTE:</strong></p>
<ul>
<li>Kubeconfig Authentication method does not support external identity providers or certificate-based authentication.</li>
<li>Dashboard can only be accessed over HTTPS</li>
<li><a href="https://github.com/kubernetes/heapster/" target="_blank" rel="noopener noreffer">Heapster</a> has to be running in the cluster for the metrics and graphs to be available. Read more about it in <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/integrations.md" target="_blank" rel="noopener noreffer">Integrations</a> guide.</li>
</ul>
<h3 id="documentation">Documentation</h3>
<p>Dashboard documentation can be found on <a href="https://github.com/kubernetes/dashboard/blob/master/docs/README.md" target="_blank" rel="noopener noreffer">docs</a> directory which contains:</p>
<ul>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/common/README.md" target="_blank" rel="noopener noreffer">Common</a>: Entry-level overview</li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/README.md" target="_blank" rel="noopener noreffer">User Guide</a>: <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/installation.md" target="_blank" rel="noopener noreffer">Installation</a>, <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/accessing-dashboard/README.md" target="_blank" rel="noopener noreffer">Accessing Dashboard</a> and more for users</li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/README.md" target="_blank" rel="noopener noreffer">Developer Guide</a>: <a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/getting-started.md" target="_blank" rel="noopener noreffer">Getting Started</a>, <a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/dependency-management.md" target="_blank" rel="noopener noreffer">Dependency Management</a> and more for anyone interested in contributing</li>
</ul>
<h2 id="kubernetes-dashboard-documentation">Kubernetes Dashboard Documentation</h2>
<h3 id="commonhttpsgithubcomkubernetesdashboardblobmasterdocscommonreadmemd"><a href="https://github.com/kubernetes/dashboard/blob/master/docs/common/README.md" target="_blank" rel="noopener noreffer">Common</a></h3>
<ul>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/common/faq.md" target="_blank" rel="noopener noreffer">FAQ</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/common/roadmap.md" target="_blank" rel="noopener noreffer">Roadmap</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/common/dashboard-arguments.md" target="_blank" rel="noopener noreffer">Dashboard arguments</a></li>
</ul>
<h3 id="user-guidehttpsgithubcomkubernetesdashboardblobmasterdocsuserreadmemd"><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/README.md" target="_blank" rel="noopener noreffer">User Guide</a></h3>
<ul>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/installation.md" target="_blank" rel="noopener noreffer">Installation</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/certificate-management.md" target="_blank" rel="noopener noreffer">Certificate management</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/accessing-dashboard/README.md" target="_blank" rel="noopener noreffer">Accessing Dashboard</a>
<ul>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/accessing-dashboard/1.7.x-and-above.md" target="_blank" rel="noopener noreffer">1.7.x and above</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/accessing-dashboard/1.6.x-and-below.md" target="_blank" rel="noopener noreffer">1.6.x and below</a></li>
</ul>
</li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md" target="_blank" rel="noopener noreffer">Access control</a>
<ul>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/creating-sample-user.md" target="_blank" rel="noopener noreffer">Creating sample user</a></li>
</ul>
</li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/integrations.md" target="_blank" rel="noopener noreffer">Integrations</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/labels.md" target="_blank" rel="noopener noreffer">Labels</a></li>
</ul>
<h3 id="developer-guidehttpsgithubcomkubernetesdashboardblobmasterdocsdeveloperreadmemd"><a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/README.md" target="_blank" rel="noopener noreffer">Developer Guide</a></h3>
<ul>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/getting-started.md" target="_blank" rel="noopener noreffer">Getting started</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/release-procedures.md" target="_blank" rel="noopener noreffer">Release procedures</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/dependency-management.md" target="_blank" rel="noopener noreffer">Dependency management</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/architecture.md" target="_blank" rel="noopener noreffer">Architecture</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/code-conventions.md" target="_blank" rel="noopener noreffer">Code conventions</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/text-conventions.md" target="_blank" rel="noopener noreffer">Text conventions</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/developer/internationalization.md" target="_blank" rel="noopener noreffer">Internationalization</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/plugins/README.md" target="_blank" rel="noopener noreffer">Plugins</a></li>
</ul>
<h4 id="common">Common</h4>
<h5 id="dashboard-arguments">Dashboard arguments</h5>
<p>Dashboard container accepts multiple arguments that can be used to customize it a bit. In example we are using <code>--auto-generate-certificates</code> flag in our recommended setup <a href="https://github.com/kubernetes/dashboard/blob/master/aio/deploy/recommended.yaml" target="_blank" rel="noopener noreffer">YAML files</a> to pass certificates to Dashboard.</p>
<h6 id="arguments">Arguments</h6>
<table>
<thead>
<tr>
<th>Argument name</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>insecure-port</td>
<td>9090</td>
<td>The port to listen to for incoming HTTP requests.</td>
</tr>
<tr>
<td>port</td>
<td>8443</td>
<td>The secure port to listen to for incoming HTTPS requests.</td>
</tr>
<tr>
<td>insecure-bind-address</td>
<td>127.0.0.1</td>
<td>The IP address on which to serve the <code>--insecure-port</code> (set to 127.0.0.1 for all interfaces).</td>
</tr>
<tr>
<td>bind-address</td>
<td>0.0.0.0</td>
<td>The IP address on which to serve the <code>--port</code> (set to 0.0.0.0 for all interfaces).</td>
</tr>
<tr>
<td>default-cert-dir</td>
<td>/certs</td>
<td>Directory path containing <code>--tls-cert-file</code> and <code>--tls-key-file</code> files. Used also when auto-generating certificates flag is set. Relative to the container, not the host.</td>
</tr>
<tr>
<td>tls-cert-file</td>
<td>-</td>
<td>File containing the default x509 Certificate for HTTPS.</td>
</tr>
<tr>
<td>tls-key-file</td>
<td>-</td>
<td>File containing the default x509 private key matching &ndash;tls-cert-file.</td>
</tr>
<tr>
<td>auto-generate-certificates</td>
<td>false</td>
<td>When set to true, Dashboard will automatically generate certificates used to serve HTTPS.</td>
</tr>
<tr>
<td>apiserver-host</td>
<td>-</td>
<td>The address of the Kubernetes Apiserver to connect to in the format of protocol://address:port, e.g., http://localhost:8080. If not specified, the assumption is that the binary runs inside a Kubernetes cluster and local discovery is attempted.</td>
</tr>
<tr>
<td>api-log-level</td>
<td>INFO</td>
<td>Level of API request logging. Should be one of &lsquo;INFO</td>
</tr>
<tr>
<td>heapster-host</td>
<td>-</td>
<td>The address of the Heapster Apiserver to connect to in the format of protocol://address:port, e.g., http://localhost:8082. If not specified, the assumption is that the binary runs inside a Kubernetes cluster and service proxy will be used.</td>
</tr>
<tr>
<td>sidecar-host</td>
<td>-</td>
<td>The address of the Sidecar Apiserver to connect to in the format of protocol://address:port, e.g., http://localhost:8000. If not specified, the assumption is that the binary runs inside a Kubernetes cluster and service proxy will be used.</td>
</tr>
<tr>
<td>metrics-provider</td>
<td>sidecar</td>
<td>Select provider type for metrics. &lsquo;none&rsquo; will not check metrics.</td>
</tr>
<tr>
<td>metric-client-check-period</td>
<td>30</td>
<td>Time in seconds that defines how often configured metric client health check should be run.</td>
</tr>
<tr>
<td>kubeconfig</td>
<td>-</td>
<td>Path to kubeconfig file with authorization and master location information.</td>
</tr>
<tr>
<td>namespace</td>
<td>kube-system</td>
<td>When non-default namespace is used, create encryption key in the specified namespace.</td>
</tr>
<tr>
<td>token-ttl</td>
<td>900</td>
<td>Expiration time (in seconds) of JWE tokens generated by dashboard. &lsquo;0&rsquo; never expires.</td>
</tr>
<tr>
<td>authentication-mode</td>
<td>token</td>
<td>Enables authentication options that will be reflected on login screen. Supported values: token, basic. Note that basic option should only be used if apiserver has &lsquo;&ndash;authorization-mode=ABAC&rsquo; and &lsquo;&ndash;basic-auth-file&rsquo; flags set.</td>
</tr>
<tr>
<td>enable-insecure-login</td>
<td>false</td>
<td>When enabled, Dashboard login view will also be shown when Dashboard is not served over HTTPS.</td>
</tr>
<tr>
<td>enable-skip-login</td>
<td>false</td>
<td>When enabled, the skip button on the login page will be shown.</td>
</tr>
<tr>
<td>disable-settings-authorizer</td>
<td>false</td>
<td>When enabled, Dashboard settings page will not require user to be logged in and authorized to access settings page.</td>
</tr>
<tr>
<td>locale-config</td>
<td>./locale_conf.json</td>
<td>File containing the configuration of locales.</td>
</tr>
<tr>
<td>system-banner</td>
<td>-</td>
<td>When non-empty displays message to Dashboard users. Accepts simple HTML tags.</td>
</tr>
<tr>
<td>system-banner-severity</td>
<td>INFO</td>
<td>Severity of system banner. Should be one of &lsquo;INFO</td>
</tr>
</tbody>
</table>
<h4 id="user-guide">User Guide</h4>
<h5 id="installation">Installation</h5>
<h6 id="official-release">Official release</h6>
<p><strong>IMPORTANT:</strong> Before upgrading from older version of Dashboard to 1.7+ make sure to delete Cluster Role Binding for <code>kubernetes-dashboard</code> Service Account, otherwise Dashboard will have full admin access to the cluster.</p>
<p><em><strong>Quick setup</strong></em></p>
<p>The fastest way of deploying Dashboard has been described in our <a href="https://github.com/kubernetes/dashboard/blob/master/README.md" target="_blank" rel="noopener noreffer">README</a>. It is destined for people that are new to Kubernetes and want to quickly start using Dashboard. Other possible setups for more experienced users, that want to know more about our deployment procedure can be found below.</p>
<p><em><strong>Recommended setup</strong></em></p>
<p>To access Dashboard directly (without <code>kubectl proxy</code>) valid certificates should be used to establish a secure HTTPS connection. They can be generated using public trusted Certificate Authorities like <a href="https://letsencrypt.org/" target="_blank" rel="noopener noreffer">Let&rsquo;s Encrypt</a>. Use them to replace the auto-generated certificates from Dashboard.</p>
<p>By default self-signed certificates are generated and stored in-memory. In case you would like to use your custom certificates follow the below steps, otherwise skip directly to the Dashboard deploy part.</p>
<p>Custom certificates have to be stored in a secret named <code>kubernetes-dashboard-certs</code> in the same namespace as Kubernetes Dashboard. Assuming that you have <code>dashboard.crt</code> and <code>dashboard.key</code> files stored under <code>$HOME/certs</code> directory, you should create secret with contents of these files:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">kubectl create secret generic kubernetes-dashboard-certs --from-file=$HOME/certs -n kubernetes-dashboard
</code></pre></td></tr></table>
</div>
</div><p>Afterwards, you are ready to deploy Dashboard using the following command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">kubectl create -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0-beta5/aio/deploy/recommended.yaml
</code></pre></td></tr></table>
</div>
</div><p><strong><strong>Alternative setup</strong></strong></p>
<p>This setup is not fully secure. Certificates are not used and Dashboard is exposed only over HTTP. In this setup access control can be ensured only by using <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md#authorization-header" target="_blank" rel="noopener noreffer">Authorization Header</a> feature.</p>
<p>To deploy Dashboard execute following command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">kubectl create -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0-beta5/aio/deploy/alternative.yaml
</code></pre></td></tr></table>
</div>
</div><h6 id="development-release">Development release</h6>
<p>Besides official releases, there are also development releases, that are pushed after every successful master build. It is not advised to use them on production environment as they are less stable than the official ones. Following sections describe installation and discovery of development releases.</p>
<p><em><strong>Installation</strong></em></p>
<p>In most of the use cases you need to execute the following command to deploy latest development release:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0-beta5/aio/deploy/head.yaml
</code></pre></td></tr></table>
</div>
</div><p><em><strong>Update</strong></em></p>
<p>Once installed, the deployment is not automatically updated. In order to update it you need to delete the deployment&rsquo;s pods and wait for it to be recreated. After recreation, it should use the latest image.</p>
<p>Delete all Dashboard pods (assuming that Dashboard is deployed in kubernetes-dashboard namespace):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">kubectl -n kubernetes-dashboard delete $(kubectl -n kubernetes-dashboard get pod -o name | grep dashboard)
pod &#34;dashboard-metrics-scraper-fb986f88d-gnfnk&#34; deleted
pod &#34;kubernetes-dashboard-7d8b9cc8d-npljm&#34; deleted
</code></pre></td></tr></table>
</div>
</div><h5 id="certificate-management">Certificate management</h5>
<p>This document describes shortly how to get certificates, that can be used to enable HTTPS in Dashboard. There are two steps required to do it:</p>
<ol>
<li>Generate certificates.
<ol>
<li><a href="#public-trusted-certificate-authority" rel="">Public trusted CA</a>.</li>
<li><a href="#self-signed-certificate" rel="">Self-signed certificate</a>.</li>
</ol>
</li>
<li>Pass them to Dashboard.
<ol>
<li>In case you are following <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/installation.md#recommended-setup" target="_blank" rel="noopener noreffer">Recommended Setup</a> to deploy Dashboard just generate certificates and follow it.</li>
<li>In any other case you need to alter Dashboard&rsquo;s YAML deploy file and pass &ndash;tls-key-file and &ndash;tls-cert-file flags to Dashboard. More information about how to mount them into the pods can be found <a href="https://kubernetes.io/docs/concepts/storage/volumes/" target="_blank" rel="noopener noreffer">here</a>.</li>
</ol>
</li>
</ol>
<h6 id="public-trusted-certificate-authority">Public trusted Certificate Authority</h6>
<p>There are many public and free certificate providers to choose from. One of the best trusted certificate providers is <a href="https://letsencrypt.org/" target="_blank" rel="noopener noreffer">Let&rsquo;s encrypt</a>. Everything you need to know about how to generate certificates signed by their trusted CA can be found <a href="https://letsencrypt.org/getting-started/" target="_blank" rel="noopener noreffer">here</a>.</p>
<h6 id="self-signed-certificate">Self-signed certificate</h6>
<p>In case you want to generate certificates on your own you need library like <a href="https://www.openssl.org/" target="_blank" rel="noopener noreffer">OpenSSL</a> that will help you do that.</p>
<p><em><strong>Generate private key and certificate signing request</strong></em></p>
<p>A private key and certificate signing request are required to create an SSL certificate. These can be generated with a few simple commands. When the openssl req command asks for a “challenge password”, just press return, leaving the password empty. This password is used by Certificate Authorities to authenticate the certificate owner when they want to revoke their certificate. Since this is a self-signed certificate, there’s no way to revoke it via CRL (Certificate Revocation List).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">openssl genrsa -des3 -passout pass:x -out dashboard.pass.key 2048
...
openssl rsa -passin pass:x -in dashboard.pass.key -out dashboard.key
# Writing RSA key
rm dashboard.pass.key
openssl req -new -key dashboard.key -out dashboard.csr
...
Country Name (2 letter code) [AU]: US
...
A challenge password []:
...
</code></pre></td></tr></table>
</div>
</div><p><em><strong>Generate SSL certificate</strong></em></p>
<p>The self-signed SSL certificate is generated from the <code>dashboard.key</code> private key and <code>dashboard.csr</code> files.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">openssl x509 -req -sha256 -days 365 -in dashboard.csr -signkey dashboard.key -out dashboard.crt
</code></pre></td></tr></table>
</div>
</div><p>The <code>dashboard.crt</code> file is your certificate suitable for use with Dashboard along with the <code>dashboard.key</code> private key.</p>
<h5 id="accessing-dashboard">Accessing Dashboard</h5>
<p>Once Dashboard is installed on your cluster it can be accessed in a few different ways. Note that this document does not describe all possible ways of accessing cluster applications. In case of any error while trying to access Dashboard, please first read our <a href="https://github.com/kubernetes/dashboard/blob/master/docs/common/faq.md" target="_blank" rel="noopener noreffer">FAQ</a> and check <a href="https://github.com/kubernetes/dashboard/issues?q=is%3Aissue&#43;is%3Aclosed" target="_blank" rel="noopener noreffer">closed issues</a>. In most cases errors are caused by cluster configuration issues.</p>
<p>Choose version of Dashboard you are using to get information about how to access it:</p>
<ul>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/accessing-dashboard/1.7.x-and-above.md" target="_blank" rel="noopener noreffer">1.7.x and above</a></li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/accessing-dashboard/1.6.x-and-below.md" target="_blank" rel="noopener noreffer">1.6.x and below</a></li>
</ul>
<h6 id="accessing-dashboard-17x-and-above">Accessing Dashboard 1.7.x and above</h6>
<p><strong>IMPORTANT:</strong> HTTPS endpoints are only available if you used <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/installation.md#recommended-setup" target="_blank" rel="noopener noreffer">Recommended Setup</a>, followed <a href="https://github.com/kubernetes/dashboard/blob/master/README.md#getting-started" target="_blank" rel="noopener noreffer">Getting Started</a> guide to deploy Dashboard or manually provided <code>--tls-key-file</code> and <code>--tls-cert-file</code> flags. In case you did not and you access Dashboard over HTTP, then Dashboard can be accessed the same way as <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/accessing-dashboard/1.6.x-and-below.md" target="_blank" rel="noopener noreffer">older versions</a>.</p>
<p><strong>NOTE:</strong> Dashboard should not be exposed publicly over HTTP. For domains accessed over HTTP it will not be possible to sign in. Nothing will happen after clicking Sign in button on login page.</p>
<p><em><strong><code>kubectl proxy</code></strong></em></p>
<p><code>kubectl proxy</code> creates proxy server between your machine and Kubernetes API server. By default it is only accessible locally (from the machine that started it).</p>
<p>First let&rsquo;s check if <code>kubectl</code> is properly configured and has access to the cluster. In case of error follow <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" target="_blank" rel="noopener noreffer">this guide</a> to install and set up <code>kubectl</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ kubectl cluster-info
# Example output
Kubernetes master is running at https://192.168.30.148:6443
KubeDNS is running at https://192.168.30.148:6443/api/v1/namespaces/kube-system/services/kube-dns/proxy

To further debug and diagnose cluster problems, use &#39;kubectl cluster-info dump&#39;.
</code></pre></td></tr></table>
</div>
</div><p>Start local proxy server.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ kubectl proxy
Starting to serve on 127.0.0.1:8001
</code></pre></td></tr></table>
</div>
</div><p>Once the proxy server is started you should be able to access Dashboard from your browser.</p>
<p>To access the HTTPS endpoint of dashboard go to: <code>http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/</code></p>
<p>NOTE: Dashboard should not be exposed publicly using <code>kubectl proxy</code> command as it only allows HTTP connection. For domains other than <code>localhost</code> and <code>127.0.0.1</code> it will not be possible to sign in. Nothing will happen after clicking <code>Sign in</code> button on login page.</p>
<p><em><strong><code>kubectl port-forward</code></strong></em></p>
<p>Instead of <code>kubectl proxy</code>, you can use <code>kubectl port-forward</code> and access dashboard with simpler URL than using <code>kubectl proxy</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">kube@minikube:~$ kubectl port-forward -n kubernetes-dashboard service/kubernetes-dashboard 10443:443
Forwarding from 127.0.0.1:10443 -&gt; 8443
</code></pre></td></tr></table>
</div>
</div><p>NOTE: If you need to expose dashboard to other hosts besides the host running <code>kubectl</code>, you should set the <code>--address [ IP address that your browser's host has ]</code> option. You can set this option to <code>--address 0.0.0.0</code>, but it means publicly exposing the dashboard.</p>
<p><em><strong>NodePort</strong></em></p>
<p>This way of accessing Dashboard is only recommended for development environments in a single node setup.</p>
<p>Edit <code>kubernetes-dashboard</code> service.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ kubectl -n kubernetes-dashboard edit service kubernetes-dashboard
</code></pre></td></tr></table>
</div>
</div><p>You should see <code>yaml</code> representation of the service. Change <code>type: ClusterIP</code> to <code>type: NodePort</code> and save file. If it&rsquo;s already changed go to next step.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># Please edit the object below. Lines beginning with a &#39;#&#39; will be ignored,
# and an empty file will abort the edit. If an error occurs while saving this file will be
# reopened with the relevant failures.
#
apiVersion: v1
...
  name: kubernetes-dashboard
  namespace: kubernetes-dashboard
  resourceVersion: &#34;343478&#34;
  selfLink: /api/v1/namespaces/kubernetes-dashboard/services/kubernetes-dashboard
  uid: 8e48f478-993d-11e7-87e0-901b0e532516
spec:
  clusterIP: 10.100.124.90
  externalTrafficPolicy: Cluster
  ports:
  - port: 443
    protocol: TCP
    targetPort: 8443
  selector:
    k8s-app: kubernetes-dashboard
  sessionAffinity: None
  type: ClusterIP
status:
  loadBalancer: {}
</code></pre></td></tr></table>
</div>
</div><p>Next we need to check port on which Dashboard was exposed.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ kubectl -n kubernetes-dashboard get service kubernetes-dashboard
NAME                   TYPE       CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
kubernetes-dashboard   NodePort   10.100.124.90   &lt;nodes&gt;       443:31707/TCP   21h
</code></pre></td></tr></table>
</div>
</div><p>Dashboard has been exposed on port <code>31707 (HTTPS)</code>. Now you can access it from your browser at: <code>https://&lt;master-ip&gt;:31707</code>. <code>master-ip</code> can be found by executing <code>kubectl cluster-info</code>. Usually it is either <code>127.0.0.1</code> or IP of your machine, assuming that your cluster is running directly on the machine, on which these commands are executed.</p>
<p>In case you are trying to expose Dashboard using <code>NodePort</code> on a multi-node cluster, then you have to find out IP of the node on which Dashboard is running to access it. Instead of accessing <code>https://&lt;master-ip&gt;:&lt;nodePort&gt;</code> you should access <code>https://&lt;node-ip&gt;:&lt;nodePort&gt;</code>.</p>
<p><em><strong>API Server</strong></em></p>
<p>In case Kubernetes API server is exposed and accessible from outside you can directly access dashboard at: <code>https://&lt;master-ip&gt;:&lt;apiserver-port&gt;/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/</code></p>
<p><strong>Note:</strong> This way of accessing Dashboard is only possible if you choose to install your user certificates in the browser. In example certificates used by kubeconfig file to contact API Server can be used.</p>
<p><em><strong>Ingress</strong></em></p>
<p>Dashboard can be also exposed using Ingress resource. For more information check: <a href="https://kubernetes.io/docs/concepts/services-networking/ingress">https://kubernetes.io/docs/concepts/services-networking/ingress</a>.</p>
<h6 id="accessing-dashboard-16x-and-below">Accessing Dashboard 1.6.x and below</h6>
<p><em><strong><code>kubectl proxy</code></strong></em></p>
<p><code>kubectl proxy</code> creates proxy server between your machine and Kubernetes API server. By default it is only accessible locally (from the machine that started it).</p>
<p>First let&rsquo;s check if <code>kubectl</code> is properly configured and has access to the cluster. In case of error follow <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" target="_blank" rel="noopener noreffer">this guide</a> to install and set up <code>kubectl</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ kubectl cluster-info
# Example output
Kubernetes master is running at https://192.168.30.148:6443
Heapster is running at https://192.168.30.148:6443/api/v1/namespaces/kube-system/services/heapster/proxy
KubeDNS is running at https://192.168.30.148:6443/api/v1/namespaces/kube-system/services/kube-dns/proxy

To further debug and diagnose cluster problems, use &#39;kubectl cluster-info dump&#39;.
</code></pre></td></tr></table>
</div>
</div><p>Start local proxy server.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ kubectl proxy
Starting to serve on 127.0.0.1:8001
</code></pre></td></tr></table>
</div>
</div><p>Once proxy server is started you should be able to access Dashboard from your browser at: <code>http://localhost:8001/api/v1/namespaces/kube-system/services/http:kubernetes-dashboard:/proxy/</code>.</p>
<p><em><strong>NodePort</strong></em></p>
<p>This way of accessing Dashboard is only recommended for development environments in a single node setup.</p>
<p>Edit <code>kubernetes-dashboard</code> service.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ kubectl -n kube-system edit service kubernetes-dashboard
</code></pre></td></tr></table>
</div>
</div><p>You should see <code>yaml</code> representation of the service. Change <code>type: ClusterIP</code> to <code>type: NodePort</code> and save file. If it&rsquo;s already changed go to next step.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Please edit the object below. Lines beginning with a &#39;#&#39; will be ignored,</span><span class="w">
</span><span class="w"></span><span class="c"># and an empty file will abort the edit. If an error occurs while saving this file will be</span><span class="w">
</span><span class="w"></span><span class="c"># reopened with the relevant failures.</span><span class="w">
</span><span class="w"></span><span class="c">#</span><span class="w">
</span><span class="w"></span><span class="k">apiVersion</span><span class="p">:</span><span class="w"> </span>v1<span class="w">
</span><span class="w"></span><span class="k">kind</span><span class="p">:</span><span class="w"> </span>Service<span class="w">
</span><span class="w"></span><span class="k">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">creationTimestamp</span><span class="p">:</span><span class="w"> </span><span class="ld">2017-09-11T08:00:46Z</span><span class="w">
</span><span class="w">  </span><span class="k">labels</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">k8s-app</span><span class="p">:</span><span class="w"> </span>kubernetes-dashboard<span class="w">
</span><span class="w">  </span><span class="k">name</span><span class="p">:</span><span class="w"> </span>kubernetes-dashboard<span class="w">
</span><span class="w">  </span><span class="k">namespace</span><span class="p">:</span><span class="w"> </span>kube-system<span class="w">
</span><span class="w">  </span><span class="k">resourceVersion</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1300&#34;</span><span class="w">
</span><span class="w">  </span><span class="k">selfLink</span><span class="p">:</span><span class="w"> </span>/api/v1/namespaces/kube-system/services/kubernetes-dashboard<span class="w">
</span><span class="w">  </span><span class="k">uid</span><span class="p">:</span><span class="w"> </span><span class="m">51392867</span>-96c7<span class="m">-11e7-87e0</span>-901b0e532516<span class="w">
</span><span class="w"></span><span class="k">spec</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">clusterIP</span><span class="p">:</span><span class="w"> </span><span class="m">10.103.169.125</span><span class="w">
</span><span class="w">  </span><span class="k">externalTrafficPolicy</span><span class="p">:</span><span class="w"> </span>Cluster<span class="w">
</span><span class="w">  </span><span class="k">ports</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="k">port</span><span class="p">:</span><span class="w"> </span><span class="m">80</span><span class="w">
</span><span class="w">    </span><span class="k">protocol</span><span class="p">:</span><span class="w"> </span>TCP<span class="w">
</span><span class="w">    </span><span class="k">targetPort</span><span class="p">:</span><span class="w"> </span><span class="m">9090</span><span class="w">
</span><span class="w">  </span><span class="k">selector</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">k8s-app</span><span class="p">:</span><span class="w"> </span>kubernetes-dashboard<span class="w">
</span><span class="w">  </span><span class="k">sessionAffinity</span><span class="p">:</span><span class="w"> </span>None<span class="w">
</span><span class="w">  </span><span class="k">type</span><span class="p">:</span><span class="w"> </span>ClusterIP<span class="w">
</span><span class="w"></span><span class="k">status</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">loadBalancer</span><span class="p">:</span><span class="w"> </span>{}<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>Next we need to check port on which Dashboard was exposed.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ kubectl -n kube-system get service kubernetes-dashboard
NAME                   CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
kubernetes-dashboard   10.103.169.125   &lt;nodes&gt;       80:32703/TCP   1d
</code></pre></td></tr></table>
</div>
</div><p>Dashboard has been exposed on a port <code>32703</code>. Now you can access it from your browser at: <code>http://&lt;master-ip&gt;:32703</code>. <code>master-ip</code> can be found by executing <code>kubectl cluster-info</code>. Usually it is either <code>127.0.0.1</code> or IP of your machine, assuming that you cluster is running directly on the machine, on which these commands are executed.</p>
<p><em><strong>API Server</strong></em></p>
<p>In case Kubernetes API server is exposed and accessible from outside you can directly access dashboard at: <code>http(s)://&lt;master-ip&gt;:&lt;apiserver-port&gt;/api/v1/namespaces/kube-system/services/http:kubernetes-dashboard:/proxy/</code>.</p>
<p><em><strong>Ingress</strong></em></p>
<p>Dashboard can be also exposed using Ingress resource. For more information check: <a href="https://kubernetes.io/docs/concepts/services-networking/ingress">https://kubernetes.io/docs/concepts/services-networking/ingress</a>.</p>
<h5 id="access-control">Access control</h5>
<p>Once Dashboard is installed and accessible we can focus on configuring access control to the cluster resources for users. As of release 1.7 Dashboard no longer has full admin privileges granted by default. All the privileges are revoked and only <a href="#default-dashboard-privileges" rel="">minimal privileges granted</a>, that are required to make Dashboard work.</p>
<p><strong>IMPORTANT:</strong> This note is only directed to people using Dashboard 1.7 and above. In case Dashboard is accessible only by trusted set of people, all with full admin privileges you may want to grant it <a href="#admin-privileges" rel="">admin privileges</a>. Note that other applications should not access Dashboard directly as it may cause privileges escalation. Make sure that in-cluster traffic is restricted to namespaces or just revoke access to Dashboard for other applications inside the cluster.</p>
<h6 id="introduction">Introduction</h6>
<p>Kubernetes supports few ways of authenticating and authorizing users. You can read about them <a href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/" target="_blank" rel="noopener noreffer">here</a> and <a href="https://kubernetes.io/docs/reference/access-authn-authz/authorization/" target="_blank" rel="noopener noreffer">here</a>. Authorization is handled by Kubernetes API server. Dashboard only acts as a proxy and passes all auth information to it. In case of forbidden access corresponding warnings will be displayed in Dashboard.</p>
<h6 id="default-dashboard-privileges">Default Dashboard privileges</h6>
<p><em><strong>v1.7</strong></em></p>
<ul>
<li><code>create</code> and <code>watch</code> permissions for secrets in <code>kube-system</code> namespace required to create and watch for changes of <code>kubernetes-dashboard-key-holder</code> secret.</li>
<li><code>get</code>, <code>update</code> and <code>delete</code> permissions for secrets named <code>kubernetes-dashboard-key-holder</code> and <code>kubernetes-dashboard-certs</code> in <code>kube-system</code> namespace.</li>
<li><code>proxy</code> permission to <code>heapster</code> service in <code>kube-system</code> namespace required to allow getting metrics from heapster.</li>
</ul>
<p><em><strong>v1.8</strong></em></p>
<ul>
<li><code>create</code> permission for secrets in <code>kube-system</code> namespace required to create <code>kubernetes-dashboard-key-holder</code> secret.</li>
<li><code>get</code>, <code>update</code> and <code>delete</code> permissions for secrets named <code>kubernetes-dashboard-key-holder</code> and <code>kubernetes-dashboard-certs</code> in <code>kube-system</code> namespace.</li>
<li><code>get</code> and <code>update</code> permissions for config map named <code>kubernetes-dashboard-settings</code> in <code>kube-system</code> namespace.</li>
<li><code>proxy</code> permission to <code>heapster</code> service in <code>kube-system</code> namespace required to allow getting metrics from heapster.</li>
</ul>
<p><em><strong>v1.10</strong></em></p>
<p><em>T.B.D.</em></p>
<p><em><strong>v2.0</strong></em></p>
<p><em>T.B.D.</em></p>
<p><em><strong>Authentication</strong></em></p>
<p>As of release 1.7 Dashboard supports user authentication based on:</p>
<ul>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md#authorization-header" target="_blank" rel="noopener noreffer"><code>Authorization: Bearer &lt;token&gt;</code></a> header passed in every request to Dashboard. Supported from release 1.6. Has the highest priority. If present, login view will not be shown.</li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md#bearer-token" target="_blank" rel="noopener noreffer">Bearer Token</a> that can be used on Dashboard <a href="#login-view" rel="">login view</a>.</li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md#basic" target="_blank" rel="noopener noreffer">Username/password</a> that can be used on Dashboard <a href="#login-view" rel="">login view</a>.</li>
<li><a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md#kubeconfig" target="_blank" rel="noopener noreffer">Kubeconfig</a> file that can be used on Dashboard <a href="#login-view" rel="">login view</a>.</li>
</ul>
<p><em><strong>Login view</strong></em></p>
<p>Login view has been introduced in release 1.7. In case you are using the latest recommended installation then login functionality will be enabled by default. In any other case and if you prefer to configure certificates manually you need to pass <code>--tls-cert-file</code> and <code>--tls-cert-key</code> flags to Dashboard. HTTPS endpoint will be exposed on port <code>8443</code> of Dashboard container. You can change it by providing <code>--port</code> flag.</p>
<p>Using <code>Skip</code> option will make Dashboard use privileges of Service Account used by Dashboard. <code>Skip</code> button is disabled by default since 1.10.1. Use <code>--enable-skip-login</code> dashboard flag to display it.</p>
<p><em><strong>Authorization header</strong></em></p>
<p>Using authorization header is the only way to make Dashboard act as an user, when accessing it over HTTP. Note that there are some risks since plain HTTP traffic is vulnerable to <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack" target="_blank" rel="noopener noreffer">MITM attacks</a>.</p>
<p>To make Dashboard use authorization header you simply need to pass <code>Authorization: Bearer &lt;token&gt;</code> in every request to Dashboard. This can be achieved i.e. by configuring reverse proxy in front of Dashboard. Proxy will be responsible for authentication with identity provider and will pass generated token in request header to Dashboard. Note that Kubernetes API server needs to be configured properly to accept these tokens.</p>
<p>To quickly test it check out <a href="https://chrome.google.com/webstore/detail/requestly-redirect-url-mo/mdnleldcmiljblolnjhpnblkcekpdkpa" target="_blank" rel="noopener noreffer">Requestly</a> Chrome browser plugin that allows to manually modify request headers.</p>
<p><strong>IMPORTANT:</strong> Authorization header will not work if Dashboard is accessed through API server proxy. Both <code>kubectl proxy</code> and <code>API Server</code> way of accessing Dashboard described in <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/accessing-dashboard/README.md" target="_blank" rel="noopener noreffer">Accessing Dashboard</a> guide will not work. It is due to the fact that once request reaches API server all additional headers are dropped.</p>
<p><em><strong>Bearer Token</strong></em></p>
<p>It is recommended to get familiar with <a href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/" target="_blank" rel="noopener noreffer">Kubernetes authentication</a> documentation first to find out how to get token, that can be used to login. In example every Service Account has a Secret with valid Bearer Token that can be used to login to Dashboard.</p>
<p>Recommended lecture to find out how to create Service Account and grant it privileges:</p>
<ul>
<li><a href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/#service-account-tokens" target="_blank" rel="noopener noreffer">Service Account Tokens</a></li>
<li><a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#role-and-clusterrole" target="_blank" rel="noopener noreffer">Role and ClusterRole</a></li>
<li><a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#service-account-permissions" target="_blank" rel="noopener noreffer">Service Account Permissions</a></li>
</ul>
<p><em><strong>Sample Bearer Token</strong></em></p>
<p>To create sample user and to get its token, see <a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/creating-sample-user.md" target="_blank" rel="noopener noreffer">Creating sample user</a> guide.</p>
<p><em><strong>Getting token with <code>kubectl</code></strong></em></p>
<p>There are many Service Accounts created in Kubernetes by default. All with different access permissions. In order to find any token, that can be used to login we&rsquo;ll use <code>kubectl</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># Check existing secrets in kubernetes-dashboard namespace
$ kubectl -n kubernetes-dashboard get secret
NAME                               TYPE                                  DATA   AGE
default-token-2pjhm                kubernetes.io/service-account-token   3      81m
kubernetes-dashboard-certs         Opaque                                0      81m
kubernetes-dashboard-csrf          Opaque                                1      81m
kubernetes-dashboard-key-holder    Opaque                                2      81m
kubernetes-dashboard-token-x9nd8   kubernetes.io/service-account-token   3      81m

$ kubectl -n kubernetes-dashboard describe secrets kubernetes-dashboard-token-x9nd8
Name:         kubernetes-dashboard-token-x9nd8
Namespace:    kubernetes-dashboard
Labels:       &lt;none&gt;
Annotations:  kubernetes.io/service-account.name: kubernetes-dashboard
              kubernetes.io/service-account.uid: 2140a425-447f-437f-9966-24ab4e57217a

Type:  kubernetes.io/service-account-token

Data
====
token:      eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJrdWJlcm5ldGVzLWRhc2hib2FyZC10b2tlbi14OW5kOCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjIxNDBhNDI1LTQ0N2YtNDM3Zi05OTY2LTI0YWI0ZTU3MjE3YSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlcm5ldGVzLWRhc2hib2FyZDprdWJlcm5ldGVzLWRhc2hib2FyZCJ9.oSOjJZpQq-yiAIQWM12gFpVA6jiJz8-zApC0Wbet9iwzflmCVFlT1lWjEEduKMnJOF-viJ4fwLixA3INfCxDgWIBmxEvoA-R6ExQNkmFi4ljGdBX98fI2B4WFuqWIPoEjqf1l3eXHKmXgqbiMYA-UH_Ih4m2-aKKO3dfkmc5HmPP1ZjotCQKGpcq60c1y-SASqbC_FC3LHvp0l5N9bfhAOraNC_34ZlL3zkQ6cAL6mZG8Ci1MuXMHTH9g04QaVZb14f6BAY-K2X-Z5yDpMr4Zs5h6DOc_18sysf4uOVyo0wMXfI9gLsda-e3zX_5W39piBj-PwfBwBGslC_JztTCSQ
ca.crt:     1066 bytes
namespace:  20 bytes
</code></pre></td></tr></table>
</div>
</div><p>We can now use printed <code>token</code> to login to Dashboard. To find out more about how to configure and use Bearer Tokens, please read <a href="#introduction" rel="">Introduction</a> section.</p>
<p><em><strong>Basic</strong></em>
Basic authentication is disabled by default. The reason is that Kubernetes API server needs to be configured with authorization mode ABAC and <code>--basic-auth-file</code> flag provided. Without that API server automatically falls back to <a href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/#anonymous-requests" target="_blank" rel="noopener noreffer">anonymous user</a> and there is no way to check if provided credentials are valid.</p>
<p>In order to enable basic auth in Dashboard <code>--authentication-mode=basic</code> flag has to be provided. By default it is set to <code>--authentication-mode=token</code>.</p>
<p><em><strong>Kubeconfig</strong></em></p>
<p>This method of logging in is provided for convenience. Only authentication options specified by <code>--authentication-mode</code> flag are supported in kubeconfig file. In case it is configured to use any other way, error will be shown in Dashboard. External identity providers or certificate-based authentication are not supported at this time.</p>
<h6 id="admin-privileges">Admin privileges</h6>
<p><strong>IMPORTANT:</strong> Make sure that you know what you are doing before proceeding. Granting admin privileges to Dashboard&rsquo;s Service Account might be a security risk.</p>
<p>You can grant full admin privileges to Dashboard&rsquo;s Service Account by creating below <code>ClusterRoleBinding</code>. Copy the YAML file based on chosen installation method and save as, i.e. <code>dashboard-admin.yaml</code>. Use <code>kubectl create -f dashboard-admin.yaml</code> to deploy it. Afterwards you can use <code>Skip</code> option on login page to access Dashboard.</p>
<p><em><strong>Official release</strong></em></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: kubernetes-dashboard
  namespace: kubernetes-dashboard
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-admin
subjects:
  - kind: ServiceAccount
    name: kubernetes-dashboard
    namespace: kubernetes-dashboard
</code></pre></td></tr></table>
</div>
</div><p><em><strong>Development release</strong></em></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: kubernetes-dashboard-head
  namespace: kubernetes-dashboard-head
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-admin
subjects:
  - kind: ServiceAccount
    name: kubernetes-dashboard-head
    namespace: kubernetes-dashboard-head
</code></pre></td></tr></table>
</div>
</div><h5 id="creating-sample-user">Creating sample user</h5>
<p>In this guide, we will find out how to create a new user using Service Account mechanism of Kubernetes, grant this user admin permissions and login to Dashboard using bearer token tied to this user.</p>
<p><strong>IMPORTANT:</strong> Make sure that you know what you are doing before proceeding. Granting admin privileges to Dashboard&rsquo;s Service Account might be a security risk.</p>
<p>Copy following snippets for <code>ServiceAccount</code> and <code>ClusterRoleBinding</code> to new manifest file like <code>dashboard-adminuser.yaml</code> and use <code>kubectl apply -f dashboard-adminuser.yaml</code> to create them.</p>
<h2 id="create-service-account">Create Service Account</h2>
<p>We are creating Service Account with name <code>admin-user</code> in namespace <code>kubernetes-dashboard</code> first.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">apiVersion</span><span class="p">:</span><span class="w"> </span>v1<span class="w">
</span><span class="w"></span><span class="k">kind</span><span class="p">:</span><span class="w"> </span>ServiceAccount<span class="w">
</span><span class="w"></span><span class="k">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">name</span><span class="p">:</span><span class="w"> </span>admin-user<span class="w">
</span><span class="w">  </span><span class="k">namespace</span><span class="p">:</span><span class="w"> </span>kubernetes-dashboard<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h2 id="create-clusterrolebinding">Create ClusterRoleBinding</h2>
<p>In most cases after provisioning our cluster using <code>kops</code> or <code>kubeadm</code> or any other popular tool, the <code>ClusterRole</code> <code>admin-Role</code> already exists in the cluster. We can use it and create only <code>ClusterRoleBinding</code> for our <code>ServiceAccount</code>.</p>
<p><strong>NOTE:</strong> <code>apiVersion</code> of <code>ClusterRoleBinding</code> resource may differ between Kubernetes versions. Prior to Kubernetes <code>v1.8</code> the <code>apiVersion</code> was <code>rbac.authorization.k8s.io/v1beta1</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">apiVersion</span><span class="p">:</span><span class="w"> </span>rbac.authorization.k8s.io/v1<span class="w">
</span><span class="w"></span><span class="k">kind</span><span class="p">:</span><span class="w"> </span>ClusterRoleBinding<span class="w">
</span><span class="w"></span><span class="k">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">name</span><span class="p">:</span><span class="w"> </span>admin-user<span class="w">
</span><span class="w"></span><span class="k">roleRef</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">apiGroup</span><span class="p">:</span><span class="w"> </span>rbac.authorization.k8s.io<span class="w">
</span><span class="w">  </span><span class="k">kind</span><span class="p">:</span><span class="w"> </span>ClusterRole<span class="w">
</span><span class="w">  </span><span class="k">name</span><span class="p">:</span><span class="w"> </span>cluster-admin<span class="w">
</span><span class="w"></span><span class="k">subjects</span><span class="p">:</span><span class="w">
</span><span class="w"></span>- <span class="k">kind</span><span class="p">:</span><span class="w"> </span>ServiceAccount<span class="w">
</span><span class="w">  </span><span class="k">name</span><span class="p">:</span><span class="w"> </span>admin-user<span class="w">
</span><span class="w">  </span><span class="k">namespace</span><span class="p">:</span><span class="w"> </span>kubernetes-dashboard<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h2 id="bearer-token">Bearer Token</h2>
<p>Now we need to find token we can use to log in. Execute following command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">kubectl -n kubernetes-dashboard describe secret $(kubectl -n kubernetes-dashboard get secret | grep admin-user | awk &#39;{print $1}&#39;)
</code></pre></td></tr></table>
</div>
</div><p>It should print something like:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">Name:         admin-user-token-v57nw
Namespace:    kubernetes-dashboard
Labels:       &lt;none&gt;
Annotations:  kubernetes.io/service-account.name: admin-user
              kubernetes.io/service-account.uid: 0303243c-4040-4a58-8a47-849ee9ba79c1

Type:  kubernetes.io/service-account-token

Data
====
ca.crt:     1066 bytes
namespace:  20 bytes
token:      eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi11c2VyLXRva2VuLXY1N253Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImFkbWluLXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIwMzAzMjQzYy00MDQwLTRhNTgtOGE0Ny04NDllZTliYTc5YzEiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZXJuZXRlcy1kYXNoYm9hcmQ6YWRtaW4tdXNlciJ9.Z2JrQlitASVwWbc-s6deLRFVk5DWD3P_vjUFXsqVSY10pbjFLG4njoZwh8p3tLxnX_VBsr7_6bwxhWSYChp9hwxznemD5x5HLtjb16kI9Z7yFWLtohzkTwuFbqmQaMoget_nYcQBUC5fDmBHRfFvNKePh_vSSb2h_aYXa8GV5AcfPQpY7r461itme1EXHQJqv-SN-zUnguDguCTjD80pFZ_CmnSE1z9QdMHPB8hoB4V68gtswR1VLa6mSYdgPwCHauuOobojALSaMc3RH7MmFUumAgguhqAkX3Omqd3rJbYOMRuMjhANqd08piDC3aIabINX6gP5-Tuuw2svnV6NYQ
</code></pre></td></tr></table>
</div>
</div><p>Now copy the token and paste it into <code>Enter token</code> field on login screen.</p>
<p>Click <code>Sign in</code> button and that&rsquo;s it. You are now logged in as an admin.</p>
<p>In order to find out more about how to grant/deny permissions in Kubernetes read official <a href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/" target="_blank" rel="noopener noreffer">authentication</a> &amp; <a href="https://kubernetes.io/docs/reference/access-authn-authz/authorization/" target="_blank" rel="noopener noreffer">authorization</a> documentation.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2019-10-22</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/kubernetes-dashboard-v1.10.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/index.md" target="_blank">阅读原始文档</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://msdemt.github.io/kubernetes-dashboard-v1.10.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" data-title="Kubernetes-Dashboard-V1.10.1-官方文档阅读笔记"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://msdemt.github.io/kubernetes-dashboard-v1.10.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Hacker News" data-sharer="hackernews" data-url="https://msdemt.github.io/kubernetes-dashboard-v1.10.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" data-title="Kubernetes-Dashboard-V1.10.1-官方文档阅读笔记"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://msdemt.github.io/kubernetes-dashboard-v1.10.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" data-title="Kubernetes-Dashboard-V1.10.1-官方文档阅读笔记"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://msdemt.github.io/kubernetes-dashboard-v1.10.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" data-title="Kubernetes-Dashboard-V1.10.1-官方文档阅读笔记" data-ralateuid="xxxx"><i class="fab fa-weibo fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/rook-ceph-v1.1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" class="prev" rel="prev" title="Rook-Ceph-v1.1-官方文档阅读笔记"><i class="fas fa-angle-left fa-fw"></i>Rook-Ceph-v1.1-官方文档阅读笔记</a>
            <a href="/vscode%E7%9A%84%E4%BD%BF%E7%94%A8/" class="next" rel="next" title="Vscode的使用">Vscode的使用<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.72.0">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">hekai</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
